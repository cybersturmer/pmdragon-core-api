{% load static %}<!DOCTYPE html>
<html lang="en" class="h-100">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Vladimir Shturmer">
    <title>PmDragon</title>
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel=icon type=image/png sizes=32x32 href="{% static 'icons/favicon-32x32.png' %}">
    <link rel=icon type=image/png sizes=16x16 href="{% static 'icons/favicon-16x16.png' %}">
    <link rel=mask-icon href="{% static 'icons/safari-pinned-tab.svg' %}" color=#5bbad5>
    <meta name=msapplication-TileColor content=#da532c>
    <meta name=theme-color content=#393939>
    <link rel=icon type=image/ico href={% static 'icons/favicon.ico' %}>
    <link href="{% static 'index/cover.css' %}" rel="stylesheet">
    <meta name="theme-color" content="#7952b3">
    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
</head>
<body class="d-flex h-100 text-center text-white bg-dark">
    <div id="app" class="w-100 h-100">
      <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-4">
            <div>
                <h3 class="float-md-start">
                  PmDragon
                </h3>
                <nav class="nav nav-masthead justify-content-center float-md-end" style="display: none">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                    <a class="nav-link" href="#" style="display: none">Contact</a>
                </nav>
            </div>
        </header>
        <main class="px-3">
            <div class="mt-auto justify-content-center">
                <img src="{% static 'index/logo_dark.svg' %}" height="150" width="150">
            </div>
            <h1 class="py-3">Project management tool</h1>
            <p class="lead">Cross-platform client for
                <a href="https://github.com/cybersturmer/pmdragon-core-api" target="_blank" class="text-white fw-bold text-decoration-none">
                    <i class="fas fa-cloud fa-sm"></i> PmDragon API
                </a>
            </p>
            <ul class="nav nav-pills justify-content-center mt-5" id="pills-tab" role="tablist">
              <li v-for="env in envs" class="nav-item" role="presentation">
                <button :class="`nav-link ${env.alias === defaultEnvAlias ? 'active' : ''}`"
                        :key="env.alias"
                        :id="`pills-${env.alias}-tab`"
                        data-bs-toggle="pill"
                        :data-bs-target="`#pills-${env.alias}`"
                        type="button"
                        role="tab"
                        :aria-controls="`pills-${env.alias}`"
                        aria-selected="true">
                        <span><i :class="env.icon"></i></span>
                        &nbsp;&nbsp;<span v-html="env.title"></span>
                </button>
              </li>
            </ul>
            <div class="tab-content py-3 px-5" id="pills-tabContent">
              <div v-for="env in envs"
                   :key="`${env.alias}-panel`"
                   :class="`tab-pane fade show px-md-5 ${env.alias === defaultEnvAlias ? 'active': ''}`"
                   :id="`pills-${env.alias}`"
                   role="tabpanel"
                   :aria-labelledby="`pills-${env.alias}-tab`">
                   <table class="table table-bordered text-white">
                     <tbody>
                       <tr>
                         <td>
                           <a href="#pmdragon-client-darwin-x64">

                           </a>
                          </td>
                         <td></td>
                         <td></td>
                       </tr>
                     </tbody>
                   </table>
              </div>
              <div class="tab-pane fade show active px-md-5"
                   id="pills-linux"
                   role="tabpanel"
                   aria-labelledby="pills-linux-tab">
                  <table class="table table-bordered text-white">
                      <tbody>
                        <tr style="display: none">
                          <td>
                              <a href="#" class="fw-bold text-white">
                                Download  x86
                              </a>
                          </td>
                        </tr>
                        <tr>
                          <td>
                              <a href="https://master.dl.sourceforge.net/project/pmdragon/pmdragon-client-linux-x64.zip?viasf=1"
                                 class="fw-bold text-white">
                                  Download x64
                              </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
              </div>
              <!-- MacOs block -->
              <div class="tab-pane fade px-md-5"
                   id="pills-macos"
                   role="tabpanel"
                   aria-labelledby="pills-macos-tab">
                  <table class="table table-bordered text-white">
                      <tbody>
                        <tr>
                          <td>
                              <a href="https://master.dl.sourceforge.net/project/pmdragon/pmdragon-client-darwin-x64.zip?viasf=1"
                                 class="fw-bold text-white">
                                Download x64
                              </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
              </div>
              <div class="tab-pane fade px-5"
                   id="pills-windows"
                   role="tabpanel"
                   aria-labelledby="pills-windows-tab">
                    <table class="table table-bordered text-white">
                      <tbody>
                        <tr>
                          <td>
                              <a href="#" class="fw-bold text-white">
                                Download  x86
                              </a>
                          </td>
                        </tr>
                        <tr>
                          <td>
                              <a href="#" class="fw-bold text-white">
                                  Download x64
                              </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
              </div>
            </div>
        </main>

        <footer class="mt-auto text-white-50">
            <p>PmDragon is an MIT-licensed open source project.</p>
            <p>Copyright Â©2020-present
                <a href="https://t.me/cybersturmer" class="text-white fw-bold">
                    Vladimir Shturmer
                </a>
            </p>
            <a href='https://play.google.com/store/apps/details?id=com.cybersturmer.pmdragon.pmdragonce&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'>
                <img alt='Get it on Google Play'
                     src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'
                     height='65'/>
            </a>
        </footer>
      </div>
    </div>
    <!-- Import application -->
    <script src="{% static 'index/main.js' %}"></script>

    <!-- Mount application -->
    <script>
      const app = Vue.createApp({
        data() {
        return {
            releases: {},
            version: null,
            defaultEnvAlias: "linux",
            envs: [
                {
                    title: "Linux",
                    alias: "linux",
                    icon: "fab fa-linux fa-lg"
                },
                {
                    title: "MacOs",
                    alias: "macos",
                    icon: "fab fa-apple fa-lg"
                },
                {
                    title: "Windows",
                    alias: "windows",
                    icon: "fab fa-windows fa-lg"
                }
            ]
        }
        },
        computed: {
        linuxReleases () {
            try {
                return this.releases.linux
            } catch (e) {
                return []
            }
        },
        macosReleases () {
            try {
                return this.releases.macos
            } catch (e) {
                return []
            }
        },
        windowsReleases () {
            try {
                return this.releases.windows
            } catch (e) {
                return []
            }
        }
        },
        async mounted () {
        const response = await axios({
            method: 'get',
            url: "{% static 'index/releases.json' %}"
        })

        console.log(response.data)
        }
    }).mount('#app')
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script defer src="https://pro.fontawesome.com/releases/v5.10.0/js/all.js" integrity="sha384-G/ZR3ntz68JZrH4pfPJyRbjW+c0+ojii5f+GYiYwldYU69A+Ejat6yIfLSxljXxD" crossorigin="anonymous"></script>
</body>